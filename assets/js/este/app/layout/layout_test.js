// Generated by CoffeeScript 1.4.0

suite('este.app.Layout', function() {
  var Layout, createMockView, element, layout, view1, view2;
  Layout = este.app.Layout;
  element = null;
  layout = null;
  view1 = null;
  view2 = null;
  setup(function() {
    element = document.createElement('div');
    layout = new Layout(element);
    view1 = createMockView();
    return view2 = createMockView();
  });
  createMockView = function() {
    return {
      element: null,
      getElement: function() {
        return this.element;
      },
      render: function() {
        return this.element = document.createElement('div');
      },
      enterDocument: function() {},
      exitDocument: function() {}
    };
  };
  suite('constructor', function() {
    return test('should work', function() {
      return assert.instanceOf(layout, Layout);
    });
  });
  return suite('show', function() {
    suite('not yet rendered view', function() {
      return test('should call render', function(done) {
        view1.render = function(el) {
          assert.equal(el, layout.element);
          return done();
        };
        return layout.show(view1);
      });
    });
    suite('rendered view', function() {
      test('should call enterDocument', function(done) {
        view1.render();
        view1.enterDocument = function() {
          return done();
        };
        return layout.show(view1);
      });
      return test('should set element.style.display to empty string', function() {
        view1.render();
        layout.show(view1);
        return assert.strictEqual(view1.getElement().style.display, '');
      });
    });
    return suite('previous view', function() {
      test('should call exitDocument', function(done) {
        view1.exitDocument = function() {
          return done();
        };
        layout.show(view1);
        return layout.show(view2);
      });
      return test('should set element.style.display to none', function() {
        layout.show(view1);
        layout.show(view2);
        return assert.strictEqual(view1.getElement().style.display, 'none');
      });
    });
  });
});
