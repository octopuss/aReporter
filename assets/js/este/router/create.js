// Generated by CoffeeScript 1.4.0
/**
  @fileoverview Router factory.
  @see ../demos/router.html
*/

goog.provide('este.router.create');

goog.require('este.events.TapHandler');

goog.require('este.History');

goog.require('este.Router');

goog.require('goog.string');

goog.require('goog.Uri');

/**
  @param {Element=} element
  @param {string=} pathPrefix Should start and end with slash.
  @param {boolean=} forceHash
  @return {este.Router}
*/


este.router.create = function(element, pathPrefix, forceHash) {
  var history, tapHandler;
  if (pathPrefix == null) {
    pathPrefix = new goog.Uri(document.location.href).getPath();
  }
  if (!goog.string.endsWith(pathPrefix, '/')) {
    pathPrefix += '/';
  }
  history = new este.History(pathPrefix, forceHash);
  tapHandler = new este.events.TapHandler(element != null ? element : document.body);
  return new este.Router(history, tapHandler);
};
