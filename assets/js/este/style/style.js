// Generated by CoffeeScript 1.4.0
/**
  @fileoverview Style utils.
*/

goog.provide('este.style');

goog.require('goog.style');

goog.require('este.dom');

goog.require('goog.editor.style');

goog.require('goog.array');

goog.scope(function() {
  var _ = este.style;

  /**
    @param {Element} element
    @param {string} stylePropertyName
    @return {string}
  */
  _.getComputedStyle = function(element, stylePropertyName) {
    element = /** @type {Element} */ (element);
    if (goog.userAgent.IE) {
      return goog.style.getCascadedStyle(element, stylePropertyName);
    } else {
      return goog.style.getComputedStyle(element, stylePropertyName);
    }
  };
  /**
    @param {Element} element
    @return {boolean}
  */

  _.isVisible = function(element) {
    var ancestors;
    ancestors = este.dom.getAncestors(element);
    var doc = /** @type {Document} */ (ancestors[ancestors.length - 1]);

    if (doc !== element.ownerDocument) {
      return false;
    }
    return goog.array.every(ancestors, function(el) {
      return _.getComputedStyle(el, 'display') !== 'none';
    });
  };
});
